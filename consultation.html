<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Consultation & Estimator — Crystallite InfoTech</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #071021;
      --panel: #0d1826;
      --accent: #22d3ee;
      --text: #eaf6ff;
      --muted: #8ca7bb;
    }
    body {
      margin: 0;
      padding: 20px;
      font-family: Poppins, sans-serif;
      background: linear-gradient(180deg, var(--bg), #03070f);
      color: var(--text);
    }
    /* Header */
    header{position:sticky;top:0;background:linear-gradient(180deg, rgba(6,10,18,0.6), rgba(6,10,18,0.3));backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,0.03);z-index:80}
    .site-header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#6b8cff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#021016;font-size:18px}
    .brand-title{font-weight:700}
    nav.primary{display:flex;gap:12px;align-items:center}
    nav.primary a{color:var(--text);text-decoration:none;padding:8px 10px;border-radius:8px;font-weight:600}
    nav.primary a:hover{color:var(--accent);background:rgba(255,255,255,0.02)}
    .hamburger{display:none;border:0;background:transparent;color:var(--text);font-size:20px;cursor:pointer}

    .container {
      max-width: 920px;
      margin: auto;
      background: rgba(255,255,255,0.03);
      padding: 24px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.06);
    }
    h1 { color: var(--accent); margin-top: 0; }
    h2 { color: var(--accent); font-size: 20px; margin-bottom: 8px; }
    label { font-size: 14px; color: var(--muted); display: block; margin-top: 12px; }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      background: transparent;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 8px;
      margin-top: 6px;
      color: var(--text);
    }
    textarea { height: 100px; }
    button {
      padding: 12px 18px;
      border: 0;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 18px;
    }
    .primary { background: linear-gradient(90deg, var(--accent), #7dd3fc); color: #021018; }
    .ghost { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: var(--text); }
    #estimatePanel {
      margin-top: 30px;
      padding: 20px;
      background: rgba(255,255,255,0.04);
      border-radius: 12px;
      display: none;
    }
    .estLine { font-size: 14px; color: var(--muted); }
    .estTotal { font-size: 26px; font-weight: 900; margin-top: 12px; }
    #status { margin-top: 12px; font-size: 13px; color: var(--muted); }

    /* Responsive */
    @media (max-width:1100px){ .split{grid-template-columns:1fr} }
    @media (max-width:820px){
      nav.primary{display:none}
      .hamburger{display:block}
    }
    @media (max-width:600px){
      .site{padding:12px}
      .logo{width:36px;height:36px;font-size:16px}
    }

    /* small helper */
    .muted{color:var(--muted)}
    .tiny{font-size:12px;color:var(--muted)}
    .kbd{background:rgba(255,255,255,0.02);padding:4px 8px;border-radius:6px;font-weight:700}
    .hidden{display:none}
  </style>
  </style>
</head>
<body>
    <header>
    <div class="site site-header" role="banner">
      <div class="brand" aria-label="Crystallite InfoTech">
        <div class="logo">CI</div>
        <div>
          <div class="brand-title">Crystallite InfoTech</div>
          <div class="tiny muted">Gurgaon — Web, Apps, Cloud & Fintech</div>
        </div>
      </div>

      <nav class="primary" role="navigation" aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="services.html">Services</a>
        <a href="projects.html">Projects</a>
        <a href="contact.html">Contact</a>
      </nav>

      <button class="hamburger" aria-label="Open menu" onclick="toggleMobileMenu()">☰</button>
    </div>
    <!-- Mobile nav -->
    <div id="mobileMenu" class="site hidden" style="padding-bottom:12px">
      <div class="card" style="margin:10px 18px;">
        <a href="index.html" style="display:block;padding:8px 0;color:var(--text)">Home</a>
        <a href="services.html" style="display:block;padding:8px 0;color:var(--text)">Services</a>
        <a href="projects.html" style="display:block;padding:8px 0;color:var(--text)">Projects</a>
        <a href="contact.html" style="display:block;padding:8px 0;color:var(--text)">Contact</a>
      </div>
    </div>
  </header>
  <div class="container">
    <h1>Consultation & Price Estimator</h1>
    <p style="color: var(--muted); margin-bottom: 24px;">
      Step 1: Fill your details → Step 2: Select service & complexity → Step 3: Get your estimate → Contact us via WhatsApp or Email.
    </p>

    <!-- --- Step 1: Client Details --- -->
    <h2>Step 1: Your Details</h2>
    <label for="name">Full Name</label>
    <input id="name" placeholder="Your full name" />

    <label for="phone">Phone (WhatsApp)</label>
    <input id="phone" placeholder="+91 XXXXX XXXXX" />

    <label for="email">Email</label>
    <input id="email" placeholder="you@example.com" />

    <!-- --- Step 2: Service Details --- -->
    <h2 style="margin-top: 28px;">Step 2: Service / Project Details</h2>

    <label for="category">Service Category</label>
    <select id="category">
      <option value="tech">Tech Services</option>
      <option value="fintech">Fintech / Financial Services</option>
    </select>

    <label for="subservice">Sub-Service</label>
    <select id="subservice">
      <!-- will be populated by JS based on category -->
    </select>

    <label for="complexity">Complexity</label>
    <select id="complexity">
      <option value="low">Low</option>
      <option value="medium">Medium </option>
      <option value="high">High </option>
    </select>

    <label for="addons">Add-ons (optional)</label>
    <select id="addons">
      <option value="none">None</option>
      <option value="urgent">Urgent Delivery </option>
      <option value="support">Support / Maintenance </option>
      <option value="extra_module">Extra Feature Module </option>
    </select>

    <label for="details">Brief / Requirements</label>
    <textarea id="details" placeholder="Write a few lines about your needs, timeline, users, etc."></textarea>

    <button class="primary" id="generateBtn">Show Estimated Price</button>
    <div id="status"></div>

    <!-- --- Step 3: Estimate & Contact --- -->
    <div id="estimatePanel">
      <h2>Estimated Cost</h2>
      <div class="estLine">Base Price: <span id="basePrice">₹0</span></div>
      <div class="estLine">Complexity Multiplier: <span id="multVal">1.0</span></div>
      <div class="estLine">Add-ons Cost: <span id="addonCost">₹0</span></div>
      <div class="estTotal">Total Estimate: <span id="estimateTotal">₹0</span></div>

      <h2 style="margin-top: 24px;">Step 4: Contact Us</h2>
      <button class="ghost" id="whatsappBtn">WhatsApp Us</button>
      <button class="ghost" id="emailBtn">Email Us</button>
    </div>
  </div>

<script>
  /**************** CONFIGURATION ****************/
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyIwa_av6J7OXb-6UtWKfqSJLRzHiAbg1Mm3XJ4XFiBws-3W-_L3fGYArdYmHbcFN7T/exec"; // <— replace with your Google Apps Script URL
  const WHATSAPP_NUMBER = "917669486641";
  const EMAIL_ADDRESS = "abhishek.singh.ds21@gmail.com";

  // Pricing base values (INR)
  const BASE_PRICES = {
    // Tech services
    "Frontend Development": 150000,
    "Backend Development": 200000,
    "Full Stack Development": 250000,
    "Progressive Web Apps (PWA)": 180000,
    "Content Management Systems": 120000,
    "E-commerce Web Development": 200000,
    "API Design & Integration": 100000,
    "Website Maintenance & Support": 12000,
    "UX/UI Design & Prototyping": 80000,
    "Native Android Development": 250000,
    "Native iOS Development": 250000,
    "Cross-platform Development": 300000,
    "App UI/UX Design": 90000,
    "App Testing & QA": 50000,
    "App Deployment & Store Optimization": 30000,
    "Cloud Architecture & Migration": 300000,
    "DevOps & CI/CD Pipelines": 200000,
    "Managed Hosting & Server Management": 150000,
    "Cloud Security & Compliance": 250000,
    "Containerization & Orchestration": 220000,
    "Data Warehousing & ETL": 250000,
    "Business Intelligence Dashboards": 150000,
    "Big Data Processing": 350000,
    "Data Science & Predictive Analytics": 300000,
    "AI/ML Model Development": 400000,
    "NLP & Computer Vision Applications": 450000,
    "MVP Development": 250000,
    "SaaS Application Development": 500000,
    "Enterprise Software Solutions": 800000,
    "Custom Software Development": 400000,
    "Software Testing & QA Automation": 150000,
    "Search Engine Optimization (SEO)": 15000,
    "Pay-per-click (PPC) Campaigns": 20000,
    "Social Media Marketing": 18000,
    "Content Marketing & Blogging": 12000,
    "Email Marketing Automation": 10000,
    "Performance Marketing & Growth Hacking": 22000,
    "Security Assessments & Penetration Testing": 150000,
    "Code Audits & Vulnerability Assessments": 120000,
    "Security Monitoring & Incident Response": 200000,
    "Compliance Audits (ISO, GDPR, HIPAA)": 300000,

    // Fintech services
    "Bookkeeping Services": 8000,
    "General Ledger Management": 10000,
    "Payroll & Expense Tracking": 12000,
    "GST Registration & Filing": 5000,
    "Income Tax Return Filing": 4000,
    "TDS Calculation & Filing": 6000,
    "Statutory Audits": 150000,
    "Internal Audits": 90000,
    "GST Audits": 60000,
    "ROC Filings (Annual Returns)": 20000,
    "Company Incorporation & Registrations": 30000,
    "Labour Law Compliance": 25000,
    "Cashflow Forecasting & Budgeting": 50000,
    "Business Valuation": 100000,
    "Fundraising & Capital Advisory": 150000,
    "Risk Management & Insurance": 120000,
    "Payroll Processing & Salary Structuring": 12000,
    "Leave & Attendance Management": 15000,
    "Compliance Automation Tools": 100000,
    "Invoice & Payment Processing": 100000,
    "e-Invoice & e-Way Bill Integration": 80000,
    "AI-driven Financial Analytics & Reporting": 250000
  };

  const MULTIPLIER = { low: 1.0, medium: 1.6, high: 2.5 };
  const ADDON_FIXED = { none: 0, urgent: 0.2, support: 30000, extra_module: 50000 };

  /**************** UI ELEMENTS ****************/
  const $ = id => document.getElementById(id);

  function populateSubservices() {
    const category = $("category").value;
    const sub = $("subservice");
    sub.innerHTML = "";

    const techList = [
      "Frontend Development","Backend Development","Full Stack Development",
      "Progressive Web Apps (PWA)","Content Management Systems",
      "E-commerce Web Development","API Design & Integration",
      "Website Maintenance & Support","UX/UI Design & Prototyping",
      "Native Android Development","Native iOS Development","Cross-platform Development",
      "App UI/UX Design","App Testing & QA","App Deployment & Store Optimization",
      "Cloud Architecture & Migration","DevOps & CI/CD Pipelines","Managed Hosting & Server Management",
      "Cloud Security & Compliance","Containerization & Orchestration",
      "Data Warehousing & ETL","Business Intelligence Dashboards","Big Data Processing",
      "Data Science & Predictive Analytics","AI/ML Model Development","NLP & Computer Vision Applications",
      "MVP Development","SaaS Application Development","Enterprise Software Solutions",
      "Custom Software Development","Software Testing & QA Automation",
      "Search Engine Optimization (SEO)","Pay-per-click (PPC) Campaigns","Social Media Marketing",
      "Content Marketing & Blogging","Email Marketing Automation","Performance Marketing & Growth Hacking",
      "Security Assessments & Penetration Testing","Code Audits & Vulnerability Assessments",
      "Security Monitoring & Incident Response","Compliance Audits (ISO, GDPR, HIPAA)"
    ];
    const fintechList = [
      "Bookkeeping Services","General Ledger Management","Payroll & Expense Tracking",
      "GST Registration & Filing","Income Tax Return Filing","TDS Calculation & Filing",
      "Statutory Audits","Internal Audits","GST Audits","ROC Filings (Annual Returns)",
      "Company Incorporation & Registrations","Labour Law Compliance","Cashflow Forecasting & Budgeting",
      "Business Valuation","Fundraising & Capital Advisory","Risk Management & Insurance",
      "Payroll Processing & Salary Structuring","Leave & Attendance Management",
      "Compliance Automation Tools","Invoice & Payment Processing","e-Invoice & e-Way Bill Integration",
      "AI-driven Financial Analytics & Reporting"
    ];

    const list = category === "tech" ? techList : fintechList;
    list.forEach(s => {
      const o = document.createElement("option");
      o.value = s;
      o.text = s;
      sub.appendChild(o);
    });
  }

  $("category").addEventListener("change", populateSubservices);
  populateSubservices();

  /**************** ESTIMATION LOGIC ****************/
  function computeEstimate() {
    const sub = $("subservice").value;
    const complexity = $("complexity").value;
    const addon = $("addons").value;

    const base = BASE_PRICES[sub] || 0;
    const mult = MULTIPLIER[complexity] || 1;
    const addonVal = ADDON_FIXED[addon] || 0;

    // If addon is "urgent", treat as percentage
    let addonCost = addonVal;
    if (addon === "urgent") {
      addonCost = base * addonVal; // percentage
    }

    const total = Math.round(base * mult + addonCost);

    return { base, mult, addonCost, total };
  }

  function formatINR(x) {
    return "₹" + Number(x).toLocaleString("en-IN");
  }

  /**************** BUILD LEAD PAYLOAD ****************/
  function buildPayload() {
    const est = computeEstimate();
    return {
      name: $("name").value.trim(),
      phone: $("phone").value.trim(),
      email: $("email").value.trim(),
      category: $("category").value,
      subservice: $("subservice").value,
      complexity: $("complexity").value,
      addons: $("addons").value,
      details: $("details").value.trim(),
      estimate: est.total,
      estimateText: formatINR(est.total),
      timestamp: new Date().toISOString(),
      page: location.href
    };
  }

  /**************** SAVE TO SHEET ****************/
  async function saveToSheet(payload) {
    $("status").innerText = "Saving your details...";
    try {
      const res = await fetch(SCRIPT_URL, {
        method: "POST",
        mode: "cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });
      const json = await res.json();
      if (json.success) {
        $("status").innerText = "Details saved.";
      } else {
        $("status").innerText = "Saved, but unexpected response.";
      }
    } catch (err) {
      console.error(err);
      $("status").innerText = "Error saving: " + err.message;
    }
  }

  /**************** EVENT HANDLERS ****************/
  $("generateBtn").addEventListener("click", async () => {
    const name = $("name").value.trim();
    const phone = $("phone").value.trim();
    const email = $("email").value.trim();
    if (!name || !phone) {
      $("status").innerText = "Please fill your name and phone.";
      return;
    }

    const payload = buildPayload();
    await saveToSheet(payload);

    const est = computeEstimate();
    $("basePrice").innerText = formatINR(est.base);
    $("multVal").innerText = est.mult.toFixed(2);
    $("addonCost").innerText = formatINR(est.addonCost);
    $("estimateTotal").innerText = formatINR(est.total);

    $("estimatePanel").style.display = "block";
  });

  $("whatsappBtn").addEventListener("click", () => {
    const p = buildPayload();
    const msg = encodeURIComponent(
      `Hello Crystallite InfoTech,\n\n` +
      `I request a consultation.\n\n` +
      `Service: ${p.category} → ${p.subservice}\n` +
      `Estimate: ${p.estimateText}\n\n` +
      `Name: ${p.name}\nPhone: ${p.phone}\nEmail: ${p.email}\n\n` +
      `Details: ${p.details}`
    );
    window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`, "_blank");
  });

  $("emailBtn").addEventListener("click", () => {
    const p = buildPayload();
    const subject = encodeURIComponent("Consultation Request — " + p.subservice);
    const body = encodeURIComponent(
      `Hello,\n\nI would like a consultation.\n\n` +
      `Service: ${p.category} → ${p.subservice}\n` +
      `Estimated Cost: ${p.estimateText}\n\n` +
      `Name: ${p.name}\nPhone: ${p.phone}\nEmail: ${p.email}\n\n` +
      `Project Details:\n${p.details}`
    );
    window.location.href = `mailto:${EMAIL_ADDRESS}?subject=${subject}&body=${body}`;
  });

</script>
</body>
</html>

